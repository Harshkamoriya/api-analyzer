# API Analyzer

API Analyzer is a modern web application that allows users to test their API endpoints, monitor performance metrics (average, min, max latency), and receive AI-powered optimization tips using Google Gemini. The app features user authentication via Clerk and stores all test results securely in a PostgreSQL database using Prisma ORM.

## Features

- **User Authentication:** Secure sign-in and sign-up flows powered by [Clerk](https://clerk.com/).
- **API Testing:** Test any HTTP endpoint with configurable method, headers, and body.
- **Performance Metrics:** Instantly view average, minimum, and maximum latency for your API.
- **AI Recommendations:** Get actionable optimization tips for your API, generated by Google Gemini.
- **Dashboard:** View your test history, success rates, and detailed results.
- **Modern UI:** Responsive, accessible, and beautiful interface built with Next.js and Tailwind CSS.
- **Persistent Storage:** All user and test data is stored in PostgreSQL via Prisma.

## Tech Stack

- **Next.js** (App Router)
- **TypeScript**
- **Clerk** (Authentication)
- **Prisma** (ORM)
- **PostgreSQL** (Database)
- **Google Gemini API** (AI suggestions)
- **Tailwind CSS** (Styling)

## Getting Started

### 1. Clone the repository

```sh
git clone https://github.com/your-username/api-analyzer.git
cd api-analyzer
```

### 2. Install dependencies

```sh
npm install
```

### 3. Set up environment variables

Create a `.env` file in the root and in the `api-analyzer/` directory. Example:

```env
# .env
DATABASE_URL=postgresql://USER:PASSWORD@HOST:PORT/DATABASE
CLERK_SECRET_KEY=your-clerk-secret-key
CLERK_PUBLISHABLE_KEY=your-clerk-publishable-key
GEMINI_API_KEY=your-google-gemini-api-key
```

### 4. Set up the database

Make sure PostgreSQL is running and the `DATABASE_URL` is correct.

Run Prisma migrations:

```sh
npx prisma migrate deploy
```

### 5. Run the development server

```sh
npm run dev
```

Visit [http://localhost:3000](http://localhost:3000) to use the app.

## Project Structure

- `app/` - Next.js app directory (pages, layouts, API routes)
- `components/` - Reusable React components (e.g., Navbar)
- `lib/` - Utility libraries (e.g., Prisma client, Gemini integration)
- `prisma/` - Prisma schema and migrations
- `types/` - TypeScript types

## Key Files

- [`app/layout.tsx`](app/layout.tsx): Root layout, includes ClerkProvider and Navbar.
- [`components/Navbar.tsx`](components/Navbar.tsx): Responsive navigation bar with authentication controls.
- [`app/page.tsx`](app/page.tsx): Home/landing page.
- [`app/new-test/page.tsx`](app/new-test/page.tsx): Form to create and run new API tests.
- [`app/dashboard/page.tsx`](app/dashboard/page.tsx): User dashboard showing test history and stats.
- [`app/api/run-test/route.ts`](app/api/run-test/route.ts): API route to run tests, store results, and generate AI tips.
- [`lib/gemini.ts`](lib/gemini.ts): Integration with Google Gemini for AI-powered suggestions.
- [`lib/prisma.ts`](lib/prisma.ts): Prisma client setup.

## Authentication

Authentication is handled by Clerk. Users must sign in to access the dashboard and save/view their API test results.

## Database

Prisma is used as the ORM, with a PostgreSQL backend. The schema includes `User` and `TestRun` models.

## AI Suggestions

API performance tips are generated using Google Gemini. Make sure to set the `GEMINI_API_KEY` in your environment.

## License

MIT

---

Built with